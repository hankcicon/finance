<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.springframework.org/schema/jdbc">
<head>
    <meta charset="UTF-8">
    <title>AdsManagement</title>
    <link rel="stylesheet" th:href="'/bootstrap/css/bootstrap.min.css'">
    <script th:src="'/jquery/jquery-3.2.1.min.js'"></script>
    <script th:src="'/bootstrap/js/bootstrap.min.js'"></script>
    <link rel="stylesheet" th:href="'/css/style.css'">
    <script th:src="'/js/index.js'"></script>
</head>
<body>
       <div class="header">header</div>
       <div class="content">

       <div class="col-lg-2">
           <div id="wrapper">
               <!-- Sidebar -->
               <nav class="navbar navbar-inverse navbar-fixed-top" id="sidebar-wrapper" role="navigation">
                   <ul class="nav sidebar-nav">
                       <li class="sidebar-brand">

                       </li>
                       <li class="active">
                           <a href="#"><i class="fa fa-fw fa-map-signs"></i>AdsManagement</a>
                       </li>
                       <li>
                           <a th:href="@{shopManage}"><i class="fa fa-fw fa-folder"></i>ShopManage</a>
                       </li>
                       <li>
                           <a th:href="@{customerManage}"><i class="fa fa-fw fa-users"></i>CustomerManage</a>
                       </li>
                       <li>
                           <a th:href="@{commission}"><i class="fa fa-fw fa-line-chart"></i>Commission</a>
                       </li>
                       <li>
                           <a th:href="@{backUp}"><i class="fa fa-fw fa-database"></i>Back Up</a>
                       </li>
                   </ul>
               </nav>
           </div>
       </div>


       <div class="col-lg-10">

           <br>
           <br>
           <br>
           <!--广告收费调整-->
           <div class="well">
           <form action="/admin/updatePrice" method="post">
           <input class="hidden" name="adminId" th:value="${adminId}"/>
              Product &nbsp;&nbsp;&nbsp;&nbsp;Ads &nbsp;&nbsp;&nbsp;&nbsp;HighPrice&nbsp;&nbsp;&nbsp;&nbsp;
           <input id="productHighAdvertisementPrice" name="productHighAdvertisementPrice" type="text" th:value="${price.productHighAdvertisementPrice}"><br><br>
            Product &nbsp;&nbsp;&nbsp;&nbsp;Ads &nbsp;&nbsp;&nbsp;&nbsp;LowPrice&nbsp;&nbsp;&nbsp;&nbsp;
            
           <input id="productLowAdvertisementPrice" name="productLowAdvertisementPrice" type="text" th:value="${price.productLowAdvertisementPrice}"><br><br>
              Shop&nbsp;&nbsp;&nbsp;&nbsp; Ads &nbsp;&nbsp;&nbsp;&nbsp;Price&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
           <input id="sellerListAdvertisementPrice" name="sellerListAdvertisementPrice" type="text" th:value="${price.sellerListAdvertisementPrice}"><br><br>
               Product commission Price
               <input id="productRate" name="productRate" type="text" th:value="${price.productRate}"><br><br>
               <div style="width: 800px; float: right">
                   <input type="submit" value="submit" />
               </div>
               <br>
               
               </form>
           </div>
           <br>
           <br>
           <!--广告申请处理-->
           <div class="panel panel-default">
               <div class="panel-heading" style="background: #dc3545">
                   <h3 class="panel-title" >
                       Ads Request
                   </h3>
               </div>
               <div class="panel-body">
                   <!--商铺广告管理-->
                   <div class="panel-group">
                       <div class="panel panel-primary">
                           <div class="panel-heading">
                               Shop Ads Management
                           </div>
                           <table class="table table-bordered table-hover">
                           
                               <thead>
                               <tr class="success">
                                   <th>Ads ID</th>                                   
                                   <th>Shop Owner</th>
									<th>Description</th>
                                   <th>Price</th>
                                    <th>Start Date</th>
                                   <th>End Date</th>
                                   <th>Agree</th>
                                   <th>Reject</th> 
                               </tr>
                               </thead>
                               <tbody>
                                <th:block th:each="p,index:${shopFindAll}">
                               <tr>
                              
                                   <td th:text="${p.advertisementId}">a001</td>
                                   <td th:text="${p.sellerName}">1</td>
									<td th:text="${p.description}">1</td>
                                   <td th:text="${p.price}">$50</td>
                                   <td th:text="${p.startDate}">1</tb>
                                   <td th:text="${p.endDate}">1</tb>
                                   <td><button th:onclick="'shopagree('+${p.advertisementId}+')'">✔</button></td>
                                   <td><button th:onclick="'shopreject('+${p.advertisementId}+')'">✖</button></td>
                                   
                               
                               </tr>
                              
                       </th:block>
                               </tbody>
                              
                           </table>
                       </div><!-- end of panel -->
                   </div>
                   <!--商品广告管理-->
                   <div class="panel-group">
                       <div class="panel panel-primary">
                           <div class="panel-heading">
                              Product Ads Management
                           </div>
                           <table class="table table-bordered table-hover">
                               <thead>
                               <tr class="success">
                                   <th>Ads ID</th>
                                   <th>Description</th>
                                  <th>Shop Owner</th> 
                        			<th>Type</th>
                                   <th>Price</th>
                                   <th>Start Date</th>
                                   <th>End Date</th>
                                   <th>Agree</th>
                                   <th>Reject</th>
                               </tr>
                               </thead>
                               <tbody>
                                <th:block th:each="p,index:${productFindAll}">
                               <tr>
                               
                                   <td th:text="${p.advertisementId}">a001</td>
                                   <td th:text="${p.description}">iWatch</td>
                                   <td th:text="${p.sellerName}">Anna</td> 
                                <td th:text="${p.type}">1</td>
                                   <td th:text="${p.price}">$50</td>
                                   <td th:text="${p.startDate}">1</td>
                                   <td th:text="${p.endDate}">1</td>
                                   <td><button th:onclick="'productagree('+${p.advertisementId}+')'">✔</button></td>
                                   <td><button th:onclick="'productreject('+${p.advertisementId}+')'">✖</button></td>
                                  
                               </tr>
                                </th:block>
                               </tbody>
                           </table>
                       </div><!-- end of panel -->
                   </div>
               </div>
           </div>
           <div class="panel panel-default">
               <div class="panel-heading" style="background: #6f42c1">
                   <h3 class="panel-title" >
                       Ads Show
                   </h3>
               </div>
               <div class="panel-body">
                   <div class="panel panel-default">
                       <div class="panel-heading" style="background: #1ab188">
                           <h3 class="panel-title" >Shop Ads</h3>
                       </div>
                       <table class="table">
                       <thead>
                           <th>Ads ID</th>
							
                         <th>Description</th>
                           <th>Shop Owner</th>
                           <th>Price </th>
                             <th>Statr Date</th>
                             <th>End Date</th>
                           
                           </thead>
                           <tbody>
                        <th:block th:each="p,index:${onShopFindAll}">
                            
                           <tr>
                           <td th:text="${p.advertisementId}">a001</td>
                         
                          <td th:text="${p.description}">iWatch</td>
                             <td th:text="${p.sellerName}">Anna</td>
                           <td th:text="${p.price}">1</td>
                           <td th:text="${p.startDate}">1</td>
                                   <td th:text="${p.endDate}">1</td>
                           
                           </tr>
                           </th:block>
                           </tbody>
                       </table>
                   </div>
                   <div class="panel panel-default">
                       <div class="panel-heading" style="background: #dc3545">Produce Ads</div>
                       <table class="table">
                       <thead>
                           <th>Ads ID</th>
                             <th>Description</th>
                         <th>Shop Owner</th>
                         <th>Type</th>
                           <th>Price</th>
                            <th>Start Date</th>
                                   <th>End Date</th>
                           </thead>
                           <tbody>
                            <th:block th:each="p,index:${onProductFindAll}">
                           <tr>
                             <td th:text="${p.advertisementId}">a001</td>
                             <td th:text="${p.description}">iWatch</td>
                             <td th:text="${p.sellerName}">Anna</td>
                             <td th:text="${p.type}">1</td>
                    <td th:text="${p.price}">$50</td>
   								<td th:text="${p.startDate}">1</td>
                                   <td th:text="${p.endDate}">1</td>
                           </tr>
                         </th:block>
                         </tbody>
                       </table>
                   </div>
               </div>
           </div>
       </div>
           </div>
       <!--广告列表的请求处理-->
       </div>
        <div class="footer"></div>
       <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                        aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <span class="navbar-brand" th:text="${adminUserName}"></span>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a th:href="@{personalInformation}">Personal Infomation</a></li>
                   <button class="btn-link" data-toggle="modal" data-target="#myModal" style="height: 50px" onclick="Logout">
                       Log out
                    </button>
                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="false">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                        &times;
                                    </button>
                                    <h4 class="modal-title" id="myModalLabel">
                                        Sure to Log Out
                                    </h4>
                                </div>
                                <div class="modal-body" >
                                    Log Out
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Leave
                                    </button>
                                    <a href="/admin/logout"><button type="button" class="btn btn-primary">
                                        Sure
                                    </button></a>
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal -->
                    </div>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
        </div>
    </nav>
</body>
<script>
function shopagree(id){
	window.location.href="/admin/agreeShopApply?advertisementId="+id;
}
function shopreject(id){
	window.location.href="/admin/rejectShopApply?advertisementId="+id;
}
function productagree(id){
	window.location.href="/admin/agreeProductApply?advertisementId="+id;
}
function productreject(id){
	window.location.href="/admin/rejectProductApply?advertisementId="+id;
}
</script>
</html>